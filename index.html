<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Modern Minesweeper</title>
<link href='https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap' rel='stylesheet'>
  <style>
    body {
      margin: 0;
      background: linear-gradient(-45deg, #0f2027, #203a43, #2c5364, #1c1c1c);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;

      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    h1 {
      margin: 20px 0;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(255,255,255,0.5);

      font-size: 2.5rem;
      letter-spacing: 1px;
    }

    #board {
      display: grid;
      grid-template-columns: repeat(5, 60px);
      gap: 10px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .cell {
      width: 60px;
      height: 60px;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid transparent;
      border-radius: 12px;
      font-size: 22px;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .cell:hover {
      transform: scale(1.05);
      border-color: #fff;
    }

    .cell.revealed {
      background: rgba(255, 255, 255, 0.2);
      cursor: default;
    }

    .cell.mine {
      background-color: #e74c3c;
    }

    #status {
      margin-top: 20px;
      font-size: 1.5rem;
      height: 40px;
    }

    button {
      margin-top: 20px;
      padding: 10px 25px;
      background-color: #1abc9c;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: background 0.2s ease;
    }

    button {
      animation: pulse 2s infinite;
    }
    button:hover {
      background-color: #16a085;
    }

    @keyframes confetti {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(200px); opacity: 0; }
    }

    .confetti {
      position: absolute;
      width: 8px;
      height: 8px;
      background: gold;
      animation: confetti 1.2s ease-out forwards;
    }
  @keyframes gradientBG {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(26, 188, 156, 0.7); }
      70% { box-shadow: 0 0 0 15px rgba(26, 188, 156, 0); }
      100% { box-shadow: 0 0 0 0 rgba(26, 188, 156, 0); }
    }
</style>
</head>
<body>

  <h1>üí£ Modern Minesweeper</h1>
  <div id="board"></div>
  <div id="status"></div>
  <button onclick="initGame()">üîÅ Restart</button>

  <audio id="clickSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_76cc8f91d6.mp3?filename=mouse-click-124467.mp3"></audio>
  <audio id="boomSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7ce0ab50a0.mp3?filename=negative_beeps-6008.mp3"></audio>
  <audio id="winSound" src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_7a63c8a224.mp3?filename=win-sound-6435.mp3"></audio>

  <script>
    const rows = 5, cols = 5, mineCount = 5;
    let board = [], gameOver = false, revealedCount = 0;

    function initGame() {
      const boardEl = document.getElementById("board");
      boardEl.innerHTML = "";
      board = [];
      gameOver = false;
      revealedCount = 0;
      document.getElementById("status").textContent = "";

      for (let r = 0; r < rows; r++) {
        board[r] = [];
        for (let c = 0; c < cols; c++) {
          const cell = {
            row: r,
            col: c,
            isMine: false,
            revealed: false,
            element: document.createElement("div")
          };
          cell.element.classList.add("cell");
          cell.element.onclick = () => revealCell(cell);
          board[r][c] = cell;
          boardEl.appendChild(cell.element);
        }
      }

      // place mines randomly
      let placed = 0;
      while (placed < mineCount) {
        let r = Math.floor(Math.random() * rows);
        let c = Math.floor(Math.random() * cols);
        if (!board[r][c].isMine) {
          board[r][c].isMine = true;
          placed++;
        }
      }
    }

    function countMines(r, c) {
      let count = 0;
      for (let dr = -1; dr <= 1; dr++) {
        for (let dc = -1; dc <= 1; dc++) {
          let nr = r + dr, nc = c + dc;
          if (nr >= 0 && nr < rows && nc >= 0 && nc < cols) {
            if (board[nr][nc].isMine) count++;
          }
        }
      }
      return count;
    }

    function revealCell(cell) {
      if (cell.revealed || gameOver) return;

      document.getElementById("clickSound").play();
      cell.revealed = true;
      cell.element.classList.add("revealed");

      if (cell.isMine) {
        cell.element.classList.add("mine");
        cell.element.textContent = "üí£";
        gameOver = true;
        document.getElementById("status").textContent = "üí• Game Over!";
        document.getElementById("boomSound").play();
        revealAllMines();
        return;
      }

      revealedCount++;
      let count = countMines(cell.row, cell.col);
      if (count > 0) cell.element.textContent = count;

      if (count === 0) {
        for (let dr = -1; dr <= 1; dr++) {
          for (let dc = -1; dc <= 1; dc++) {
            let nr = cell.row + dr, nc = cell.col + dc;
            if (nr >= 0 && nr < rows && nc >= 0 && nc < cols) {
              revealCell(board[nr][nc]);
            }
          }
        }
      }

      if (revealedCount === rows * cols - mineCount) {
        gameOver = true;
        document.getElementById("status").textContent = "üéâ You Win!";
        document.getElementById("winSound").play();
        launchConfetti();
      }
    }

    function revealAllMines() {
      for (let row of board) {
        for (let cell of row) {
          if (cell.isMine) {
            cell.element.classList.add("mine");
            cell.element.textContent = "üí£";
          }
        }
      }
    }

    function launchConfetti() {
      for (let i = 0; i < 30; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        confetti.style.left = `${Math.random() * 100}vw`;
        confetti.style.top = `-20px`;
        confetti.style.background = `hsl(${Math.random() * 360}, 100%, 60%)`;
        confetti.style.animationDuration = `${Math.random() * 0.8 + 0.7}s`;
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 1500);
      }
    }

    initGame();
  </script>
</body>
</html>
